require 'set'

# Функция для ввода строки с кольцами
def input
  print "Введите строку: "
  gets.chomp # Считываем ввод пользователя и удаляем символ \n
end

# Функция для вывода результата
def output(result)
  puts "Количество стержней с 3 цветами: #{result}"
end

# Основная программа
rings = input

# Создаём хэш (аналог map в C++), где ключи - номера стержней (0-9), значения - множества (Set) для хранения уникальных цветовma

ma = Hash.new { |h, k| h[k] = Set.new }

# Проходим по строке с кольцами и цветами (шаг 2)
(0..rings.length - 2).step(2) do |i|
  color = rings[i]     # Цвет кольца
  rod = rings[i + 1].to_i  # Стержень кольца (преобразуем символ в число)
  ma[rod].add(color)   # Добавляем цвет в соответствующий стержень
end

result = 0 # Количество стержней с 3 цветами

# Считаем стержни с 3 цветами
ma.each_value do |colors| #перебираем все значения хэша (множества цветов)
  result += 1 if colors.size == 3
end

output(result)